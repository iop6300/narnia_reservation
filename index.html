<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>나니아랩 체험 예약</title>
  <meta name="description" content="나니아랩 행사 예약 페이지" />
  <style>
:root{
  --primary:#15dcf6; --accent:#f42bce; --text:#0a1128; --muted:#667085;
  --bg:#0a1128; --cardText:#e8ecff; --btn:#0a84ff; --btnHover:#0056b3;
}

/* ========== Base ========== */
*{box-sizing:border-box}
html,body{margin:0;padding:0;scroll-behavior:smooth}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--cardText);
  background:radial-gradient(circle at 20% 10%, #0b1330 0%, #060b1f 70%, #040816 100%);
}
a{color:inherit;text-decoration:none}

/* 공통 컨테이너: 모바일 100% ~ 데스크탑 1100px */
.wrap{
  max-width:clamp(320px,92vw,1100px);
  margin:0 auto;
  padding-left:clamp(16px,4vw,40px);
  padding-right:clamp(16px,4vw,40px);
}

/* ========== Hero ========== */
.hero{
  position:relative;min-height:68vh;display:flex;align-items:center;overflow:hidden;
  color:#fff;background:radial-gradient(1200px 600px at 20% 10%, #111b3a 0%, #0a1128 60%, #071024 100%);
}
#particles{position:absolute;inset:0}
.hero__inner{position:relative;z-index:1;padding:80px 0}
.badge{
  display:inline-block;padding:6px 10px;border-radius:999px;font-size:12px;letter-spacing:.08em;
  background:rgba(255,255,255,.12);backdrop-filter:blur(6px)
}
.title{
  font-weight:800;line-height:1.05;margin:14px 0 12px;
  font-size:clamp(32px,5vw,56px);
  background:linear-gradient(90deg,var(--primary),var(--accent));
  -webkit-background-clip:text;background-clip:text;color:transparent
}
.subtitle{color:#c9d1ff;max-width:720px;font-size:clamp(15px,2.2vw,18px)}
.cta{display:flex;gap:12px;margin-top:20px;flex-wrap:wrap}
.hero__meta{margin-top:16px;font-size:14px;color:#c9d1ff}

/* 버튼 (Glass) */
.btn{
  padding:12px 16px;border-radius:12px;font-weight:700;
  background:rgba(21,220,246,.15);color:#fff;border:1px solid rgba(255,255,255,.2);
  backdrop-filter:blur(6px);transition:all .25s ease
}
.btn:hover{background:linear-gradient(90deg,var(--primary),var(--accent));color:#0a1128;transform:translateY(-1px)}
.btn--ghost{background:transparent;border:1px solid rgba(255,255,255,.3)}
.btn--ghost:hover{background:rgba(255,255,255,.15)}

/* ========== Sections ========== */
section{background:#0c1332;color:#e6ebff}
.section{padding:56px 0;border-top:1px solid rgba(255,255,255,.08)}
h2{margin:0 0 12px;font-size:clamp(22px,3vw,28px);color:#fff}
.muted{color:#9fb0ff}

/* ========== Grid (option) ========== */
.grid{display:grid;gap:18px;grid-template-columns:repeat(12,1fr)}
.col-4{grid-column:span 4}.col-6{grid-column:span 6}.col-12{grid-column:span 12}
@media (max-width:900px){.col-4,.col-6{grid-column:span 12}}

/* ========== Card (Glass) ========== */
.card{
  background:rgba(255,255,255,.08);color:#f2f6ff;border:1px solid rgba(255,255,255,.15);
  border-radius:16px;box-shadow:0 6px 24px rgba(0,0,0,.35);backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);padding:20px 24px;transition:all .3s ease
}
.card:hover{background:rgba(255,255,255,.12);transform:translateY(-2px)}
.card b{color:#fff}.card span{color:#cfd7ff}

/* ========== Social Links ========== */
.social{display:flex;flex-wrap:wrap;gap:12px;margin-top:14px}
.social a{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 14px;border-radius:12px;font-weight:700;
  background:#111a3a;color:#e6ebff;border:1px solid rgba(255,255,255,.08)
}
.social a:hover{background:#1a2454}
.social svg{width:18px;height:18px}

/* ========== Reserve / About 정렬 & 카드 폭 통일 ========== */
#reserve .wrap,#about .wrap{
  display:flex;flex-direction:column;align-items:center;text-align:left
}
#reserve .card,#about .card{width:100%;max-width:720px;margin:0 auto;box-sizing:border-box}

/* 행사소개 key-values 카드도 동일 폭 */
.kvs{display:grid;gap:10px;width:100%;max-width:720px}
.kv{display:flex;gap:10px}.kv b{min-width:84px}

/* ========== Form (통일/반응형) ========== */
/* 라벨 흰색 */
#reserve label[for="student_name"],
#reserve label[for="parent_phone"],
#reserve label[for="slot"],
#reserve label[for="school_level"],
#reserve label[for="grade"],
#reserve label[for="interest"]{color:#fff;font-weight:700;font-size:14px;margin:2px 0 6px;display:block}

/* 한 줄/두 줄 레이아웃 */
#reserve .form-row,#reserve .form-row-1{display:grid;gap:10px}
#reserve .form-row{grid-template-columns:1fr}
#reserve .form-row-1{grid-template-columns:1fr}
@media (min-width:768px){
  #reserve .form-row{grid-template-columns:1fr 1fr}
}

/* 입력/선택 필드 통일 */
#reserve input,#reserve select,#reserve textarea{
  width:100%;height:48px;padding:12px 14px;font-size:16px;border-radius:10px;
  border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.12);color:#fff;box-sizing:border-box
}
#reserve textarea{height:auto;min-height:96px}

/* placeholder 색 */
#reserve input::placeholder,#reserve textarea::placeholder{color:rgba(255,255,255,.8)}

/* 셀렉트 드롭다운 기본 */
#reserve select,#reserve select option{color:#fff;background:rgba(15,24,61,.95)}

/* “예약 시간/학교급”만 연한 회색 톤 */
#reserve select#slot,#reserve select#school_level{
  background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.2);transition:background .2s ease
}
#reserve select#slot:hover,#reserve select#school_level:hover{background:rgba(255,255,255,.12)}

/* Focus 접근성 */
#reserve input:focus,#reserve select:focus,#reserve textarea:focus{
  border-color:rgba(255,255,255,.5);box-shadow:0 0 0 2px rgba(255,255,255,.25);outline:none
}

/* 제출 버튼 */
.submit{
  width:100%;padding:14px;border:0;border-radius:12px;background:var(--btn);color:#fff;
  font-size:16px;font-weight:800;cursor:pointer;transition:background .25s ease
}
.submit:hover{background:var(--btnHover)}
.note{font-size:12px;color:#cbd5f3;margin-top:8px}
.success{display:none;margin-top:10px;color:#0aef8b;font-weight:800}

/* 섹션 구분선 */
.section{border-top:1px solid rgba(255,255,255,.08)}
/* 1) 예약 시간/학교급 드롭다운을 다른 입력칸과 동일 스타일로 통일 */
#reserve select#slot,
#reserve select#school_level {
  background: rgba(255, 255, 255, 0.12) !important;  /* 다른 필드와 동일 */
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: #fff;
}

/* 호버 시에도 색 변화 없이 통일감 유지 */
#reserve select#slot:hover,
#reserve select#school_level:hover {
  background: rgba(255, 255, 255, 0.12) !important;
}

/* 드롭다운 펼친 옵션 리스트는 가독성 유지 */
#reserve select,
#reserve select option {
  color:#fff;
  background: rgba(15, 24, 61, 0.95);
}

/* 2) 예약하기 폼의 form-row 간 세로 간격(행간) 늘리기 */
#reserve .form-row,
#reserve .form-row-1 {
  row-gap: 14px;        /* 같은 행 안의 필드 간격 */
  margin-bottom: 18px;  /* 행(row)들 사이의 세로 간격 */
}

/* 태블릿 이상에서 간격 조금 더 여유 있게 */
@media (min-width: 768px) {
  #reserve .form-row,
  #reserve .form-row-1 {
    row-gap: 16px;
    margin-bottom: 22px;
  }
}

    
  </style>
</head>
<body>

  <!-- HERO -->
  <header class="hero">
    <canvas id="particles"></canvas>
    <div class="wrap hero__inner">
      <span class="badge">NARNIA LAB · OPEN EVENT</span>
      <h1 class="title">나니아랩 체험 부스 예약</h1>
      <p class="subtitle">AI로 만드는 나만의 게임 & 서비스!<br>아래에서 행사 안내를 확인하시고, 원하시는 시간으로 예약해 주세요.<br>동일 시간은 최대 4명까지 접수됩니다.</p>
      <div class="cta">
        <a class="btn btn--ghost" href="#reserve">지금 예약하기</a>
        <a class="btn btn--ghost" href="#about">나니아랩 알아보기</a>
      </div>
      <div class="hero__meta">장소: 울산수학체험한마당 B 광장 9번 부스 <br>일시: 2025-10-18(토) 10:30–16:30</div>
    </div>
  </header>

  <!-- RESERVE -->
  <section id="reserve" class="section">
  <div class="wrap">
    <h2>행사 소개</h2>
    <p class="muted">아이들이 직접 만드는 나만의 콘텐츠! AI를 이용하여 나만의 웹서비스를 만들며 창의력과 문제해결력을 길러요.</p>
    <div class="card kvs" style="margin-top:14px;">
      <div class="kv"><b>대상</b><span>초/중/고 학생 및 학부모</span></div>
      <div class="kv"><b>운영</b><span>각 타임 30분, 회차별 정원 10명</span></div>
      <div class="kv"><b>준비물</b><span>없음 (현장 장비 제공)</span></div>
    </div>

    <h2 style="margin-top:32px;">예약하기</h2>
    <div class="card">
        <!-- 제출 후 리다이렉트 방지용 -->
        <iframe name="hidden_iframe" style="display:none;" onload="if(window._submitted){document.getElementById('ok').style.display='block';}"></iframe>

        <!-- ✅ 구글폼 ACTION / ENTRY 키는 이미 사용자님 폼 기준으로 세팅 -->
        <form
          action="https://docs.google.com/forms/d/e/1FAIpQLScSgLalQZ7wq4n2w8gAn04Rs4OHnRbs-nMGGV8-fyVGj2_vdA/formResponse"
          method="POST" target="hidden_iframe" onsubmit="window._submitted=true">

          <div class="form-row">
            <div>
              <label for="student_name">학생이름</label>
              <input id="student_name" name="entry.809640200" required placeholder="예) 김나니" />
            </div>
            <div>
              <label for="parent_phone">보호자 연락처</label>
              <input id="parent_phone" name="entry.543683465" required placeholder="예) 010-1234-5678" />
            </div>
          </div>

          <div class="form-row">
            <div>
              <label for="slot">예약 시간</label>
              <select id="slot" name="entry.1621677829" required>
                <option value="">시간 선택</option>
                <option>10:30</option><option>11:00</option><option>11:30</option>
                <option>12:00</option><option>12:30</option><option>13:00</option>
                <option>13:30</option><option>14:00</option><option>14:30</option>
                <option>15:00</option><option>15:30</option><option>16:00</option><option>16:30</option>
              </select>
            </div>
            <div>
              <label for="school_level">학교급</label>
              <select id="school_level" name="entry.261454937" required>
                <option value="">선택</option>
                <option>초등학교</option><option>중학교</option><option>고등학교</option>
              </select>
            </div>
          </div>

          <div class="form-row form-row-1">
            <div>
              <label for="grade">학생 학년</label>
              <input id="grade" name="entry.156928591" required placeholder="예) 2학년" />
            </div>
          </div>

          <div class="form-row form-row-1">
            <div>
              <label for="interest">학생 관심분야</label>
              <input id="interest" name="entry.763983283" placeholder="예) AI, 게임, 로봇 등" />
            </div>
          </div>

          <button class="submit" type="submit">예약 제출</button>
          <div id="ok" class="success">✅ 예약이 완료되었습니다!</div>
          <div class="note">※ 동일 시간은 최대 4명까지 접수됩니다.</div>
        </form>
      </div>
    </div>
  </section>

<!-- ABOUT -->
<section id="about" class="section">
  <div class="wrap">
    <h2>나니아랩 소개</h2>

    <div class="card">
      <p style="margin-bottom:14px;">
        나니아랩은 단순한 코딩 기술이나 AI 사용법을 가르치지 않습니다.<br>
        <b>“기술은 도구, 세상을 바꾸는 것은 생각이다.”</b><br>
        우리는 스스로 사고하고 질문하는 힘을 길러, <b>AI를 다루는 창의적 설계자</b>를 키웁니다.
      </p>

      <div style="display:grid; gap:16px; margin-top:16px;">
        <!-- 미션 -->
            <b>🎯 미션</b>
            <p class="muted" style="margin:.3rem 0 0;">
              질문을 통해 생각하는 힘을 기르고,<br>
              AI를 활용해 세상에 새로운 가치를 창조하는 <b>Next-generation Architect</b>를 양성합니다.
            </p>
        </div>

       
        <!-- 운영 방식 -->
      <br><br>
            <b>⚙️ 운영 방식</b>
            <p class="muted" style="margin:.3rem 0 0;">
              <b>AI-PBL 기반 몰입형 학습</b>으로 프로젝트 중심의 실습을 통해 배우고 성장합니다.<br>
              학습 수준에 따라 두 가지 트랙으로 운영됩니다:
            </p>
            <ul style="margin:.4rem 0 0; padding-left:18px; line-height:1.6;">
              <li><b>Elite Track</b> — 심화 실습 중심의 소수 정예 프로젝트형 교육</li>
              <li><b>Public Track</b> — 체험 중심의 기본기 강화형 교육</li>
            </ul>
        
        </div>

      <!-- 소셜 링크 -->
      <div class="social" style="margin-top:20px;">
        <a href="https://www.instagram.com/narnialab_official/?hl=ko" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Z" stroke="currentColor" stroke-width="1.5"/><circle cx="12" cy="12" r="3.8" stroke="currentColor" stroke-width="1.5"/><circle cx="17.5" cy="6.5" r="1.2" fill="currentColor"/></svg>
          Instagram
        </a>
        <a href="https://narnia-lab.github.io/home/#home" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none"><path d="M3 10.5 12 3l9 7.5v9a1.5 1.5 0 0 1-1.5 1.5H4.5A1.5 1.5 0 0 1 3 19.5v-9Z" stroke="currentColor" stroke-width="1.5"/><path d="M9 21v-6h6v6" stroke="currentColor" stroke-width="1.5"/></svg>
          홈페이지
        </a>
        <a href="http://pf.kakao.com/_DZhmn" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none"><path d="M12 3.5c-5.25 0-9.5 3.39-9.5 7.56 0 2.67 1.83 4.99 4.59 6.27l-.78 3.09a.7.7 0 0 0 1.05.77l3.66-2.15c.95.15 1.94.23 2.98.23 5.25 0 9.5-3.39 9.5-7.56S17.25 3.5 12 3.5Z" stroke="currentColor" stroke-width="1.5"/></svg>
          카카오톡
        </a>
      </div>
    </div>
  </div>
</section>



  
  <footer>
    <div class="wrap">© 2025 Narnia Lab. All Rights Reserved.</div>
  </footer>

  <!-- Particles (가벼운 캔버스 배경) -->
  <script>
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let W,H, points=[];

    function resize(){
      W = canvas.width = canvas.offsetWidth = canvas.parentElement.offsetWidth;
      H = canvas.height = canvas.offsetHeight = canvas.parentElement.offsetHeight;
      // 초기화 (화면 크기에 따라 포인트 갯수 조절)
      const count = Math.max(60, Math.floor(W * H / 26000));
      points = Array.from({length: count}).map(()=>({
        x: Math.random()*W, y: Math.random()*H,
        vx:(Math.random()*2-1)*0.6, vy:(Math.random()*2-1)*0.6
      }));
    }
    window.addEventListener('resize', resize, {passive:true});
    resize();

    function step(){
      ctx.clearRect(0,0,W,H);
      // 점 이동 + 그리기
      for(const p of points){
        p.x += p.vx; p.y += p.vy;
        if(p.x<0||p.x>W) p.vx*=-1;
        if(p.y<0||p.y>H) p.vy*=-1;
        ctx.globalAlpha = 0.7;
        ctx.fillStyle = '#ffffff';
        ctx.beginPath(); ctx.arc(p.x,p.y,1.3,0,Math.PI*2); ctx.fill();
      }
      // 라인 연결
      for(let i=0;i<points.length;i++){
        for(let j=i+1;j<points.length;j++){
          const a=points[i], b=points[j];
          const dx=a.x-b.x, dy=a.y-b.y;
          const d2=dx*dx+dy*dy;
          if(d2<140*140){
            ctx.globalAlpha = 0.05 + (1 - d2/(140*140))*0.15;
            ctx.strokeStyle = '#ffffff';
            ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
          }
        }
      }
      requestAnimationFrame(step);
    }
    step();
  </script>

  <!-- 집계 CSV를 불러와 인원수 >=10 시간대 (마감) 처리 -->
  <script>
    /* 👉 이 URL만 본인 것으로 교체하세요! (raw CSV) */
    const CSV_URL = "PUT_YOUR_PUBLIC_CSV_URL_HERE"; // 예: https://raw.githubusercontent.com/<user>/<repo>/main/booth-count.csv
    const MAX_PEOPLE = 4;

    function normalize(s){ return String(s||'').replace(/^\uFEFF/,'').replace(/\u00A0/g,' ').trim(); }

    async function fetchCSV(url){
      const res = await fetch(url + (url.includes('?')?'&':'?') + '_ts=' + Date.now(), {redirect:'follow'});
      if(!res.ok) throw new Error(res.status + ' ' + res.statusText);
      return await res.text();
    }
    function parseCSV(text){
      const lines = text.replace(/^\uFEFF/,'').trim().split(/\r?\n/);
      return lines.map(line => line.split(',').map(v=>normalize(v)));
    }
    function applyCounts(map){
      const sel = document.getElementById('slot');
      if(!sel) return;
      [...sel.options].forEach(opt=>{
        if(!opt.value) return;
        const key = normalize(opt.value);
        const cnt = Number(map.get(key)||0);
        if(cnt >= MAX_PEOPLE){
          opt.disabled = true;
          if(!/\(마감\)$/.test(opt.textContent)) opt.textContent = opt.textContent + ' (마감)';
        } else {
          opt.disabled = false;
          opt.textContent = opt.textContent.replace(/\s*\(마감\)$/,'');
        }
      });
      if(sel.selectedOptions[0]?.disabled) sel.value="";
    }
    async function refreshCloseSlots(){
      try{
        const csv = await fetchCSV(CSV_URL);
        const rows = parseCSV(csv);
        if(!rows.length) return;
        const header = rows[0].map(normalize);
        const timeIdx = header.findIndex(h=>/예약\s*시간|시간|slot/i.test(h));
        const cntIdx  = header.findIndex(h=>/인원|인원수|count/i.test(h));
        const map = new Map();
        rows.slice(1).forEach(r=>{
          const t = normalize(r[timeIdx]);
          const c = Number(normalize(r[cntIdx]))||0;
          if(t) map.set(t,c);
        });
        applyCounts(map);
      }catch(e){ console.error('[마감] CSV 로드 오류', e); }
    }
    refreshCloseSlots();
    setInterval(refreshCloseSlots, 60*1000);
  </script>
</body>
</html>
